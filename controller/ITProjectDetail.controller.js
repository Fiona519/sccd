sap.ui.define(["sap/support/sccd/controller/BaseController","sap/ui/model/json/JSONModel","sap/viz/ui5/format/ChartFormatter","sap/viz/ui5/data/FlattenedDataset","sap/viz/ui5/controls/common/feeds/FeedItem","sap/m/Label","sap/m/ColumnListItem","sap/m/Column","sap/m/library","sap/ui/model/Sorter","sap/ui/core/routing/History"],function(t,e,a,i,s,o,r,n,l,c,d){"use strict";return t.extend("sap.support.sccd.controller.ITProjectDetail",{_constants:{packageName:"sap.support.sccd.model",vizFrame:{id:"itDetailVizFrame",modulePath:"/itprojectdetail.json",dataset:{dimensions:[{name:"Date",value:"{= ${timestamp}.substring(0, 4) + '-' + ${timestamp}.substring(4, 6) + '-' + ${timestamp}.substring(6, 8)}"}],measures:[{name:"All Test Cases",value:"{allTestCases}"},{name:"Assertion",value:"{assertion}"}],data:{path:"/itDetailData",sorter:new c("timestamp",!1)}},type:"stacked_combination",properties:{plotArea:{colorPalette:["#828af7","sapUiChartPaletteSemanticGoodLight1"],dataLabel:{visible:!0,showTotal:!0},dataShape:{primaryAxis:["line","bar"]},window:{start:"firstDataPoint",end:"lastDataPoint"}},title:{visible:!1},interaction:{selectability:{mode:"single"}},categoryAxis:{title:{visible:!1}},valueAxis:{title:{visible:!1}}},feedItems:[{uid:"valueAxis",type:"Measure",values:["Assertion","All Test Cases"]},{uid:"categoryAxis",type:"Dimension",values:["Date"]}]}},onInit:function(){var t=this.getView().byId(this._constants.vizFrame.id);this._updateVizFrame(this.byId("itDetailVizFrame"),[]),this.getOwnerComponent().getRouter().getRoute("itProjectDetail").attachPatternMatched(this._onProjectMatched,this),this.getView().byId("itDetailPopOver").connect(t.getVizUid())},_onProjectMatched:function(t){var o=t.getParameter("arguments");this.getModel().read("/ITSet",{urlParameters:{pid:o.projectid},success:function(t,e){var a=this.byId("itDetailVizFrame").getModel();a.setData({itDetailData:JSON.parse(t)});var i=a.getData().itDetailData,s=this;i&&i.forEach(function(t){if(t.projectId===o.projectid)return s.byId("sITProjectName").setText("Integration Test History of "+t.projectName),!1})}.bind(this),error:function(t){console.log(t)}})},onBackPress:function(){void 0!==d.getInstance().getPreviousHash()?window.history.go(-1):this.getOwnerComponent().getRouter().navTo("it")}})});