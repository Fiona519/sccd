sap.ui.define(["sap/support/sccd/controller/BaseController","sap/viz/ui5/format/ChartFormatter","sap/ui/model/json/JSONModel","sap/viz/ui5/data/FlattenedDataset","sap/viz/ui5/controls/common/feeds/FeedItem","sap/m/Label","sap/m/ColumnListItem","sap/m/Column","sap/m/library"],function(e,t,a,i,s,o,n,r,l){"use strict";return e.extend("sap.support.sccd.controller.UnitTest",{_constants:{packageName:"sap.support.sccd.model",vizFrame:{id:"utVizFrame",modulePath:"/unittest.json",dataset:{dimensions:[{name:"Project",value:"{projectName}"},{name:"Team",value:"{teamName}"}],measures:[{group:1,name:"Failed",value:"{failed}"},{group:1,name:"Passed",value:"{passed}"}],data:{path:"/utData"}},type:"stacked_bar",properties:{plotArea:{colorPalette:["#bb0000","#b6d957"],dataLabel:{visible:!0,showTotal:!0},window:{start:"firstDataPoint",end:"lastDataPoint"}},title:{visible:!1},interaction:{selectability:{mode:"single"}},categoryAxis:{title:{visible:!1}},valueAxis:{title:{visible:!1}}},feedItems:[{uid:"primaryValues",type:"Measure",values:["Failed","Passed"]},{uid:"axisLabels",type:"Dimension",values:["Team","Project"]}]},table:{id:"utTable",modulePath:"/unittest.json",itemBindingPath:"/utData",columnLabelTexts:["Project","Passed","Failed","Skipped","Assertion"],templateCellLabelTexts:["{projectName}","{passed}","{failed}","{skipped}","{assertion}"]}},onInit:function(){this.oVizFrame=this.getView().byId(this._constants.vizFrame.id),this.oTable=this.getView().byId(this._constants.table.id),this.getProjectData("/UTSet","utData"),t.DefaultPattern;var e=this.getView().byId("utPopOver"),a=this;e.setActionItems([{type:"action",text:"Show Unit Test History",press:function(){var t=a.oVizFrame.vizSelection()[0].data.Project;a.oVizFrame.getModel().getData().utData.forEach(function(e){if(e.projectName===t)return a.getOwnerComponent().getRouter().navTo("utProjectDetail",{projectid:e.projectId}),!1})}}]),e.connect(this.oVizFrame.getVizUid())},_listItemPress:function(e){var t=e.getSource().getBindingContext().getObject();this.getOwnerComponent().getRouter().navTo("utProjectDetail",{projectid:t.projectId})}})});